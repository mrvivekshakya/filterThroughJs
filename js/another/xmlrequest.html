<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>XML Request </title>
</head>
<body>
    <div class="container">
        <form action="">
            <h1>Fetch Data accordin</h1>
            <label for="first"></label>
            <input type="text" placeholder="Less than" id="first">
            <label for="second"></label>
            <input type="text" placeholder="more than" id="second">

           
        </form><br><br>
        <input type="submit" id="btn">  
        <table border="1" cellspacing="0" id="table">
            <tr>
                <th>Id</th>
                <th>First Name</th>
                <th>Last Name</th>
                <th>Email</th>
                <th>Gender</th>
                <th>Department</th>
                <th>Salary</th>
            </tr>
            
        </table>
    </div>

    <div id="myDiv"></div>


<script>

function readFile(cb) {
    var oXHR = new XMLHttpRequest();
    oXHR.onreadystatechange = reportStatus;
    oXHR.open("GET", "../test_data.json", true); // get json file.
    oXHR.send();
    function reportStatus() {
        if (oXHR.readyState == 4) {
            cb(this.responseText);
        } else {
            cb(null);
        }
    }

}
// function cb(res){
//     //document.getElementById('myDiv').innerHTML = res;
//     var ar = JSON.parse(res);
//     document.getElementById('myDiv').innerHTML = ar[0].salary;
// }
// readFile(cb);
//const button = document.getElementById('btn');
//button.addEventListener('click',readFile(cb));

function filterRecords() {
    readFile(function (data) {
        var employee = JSON.parse(data);
        var filtered = employee.filter(function(s){
            return (s.salary < 60000) && (s.salary> 50000);
        });
        for(let i = 0; i<filtered.length; i++){
            console.log(filtered[i].salary);
        }
    })
}

document.getElementById('btn').addEventListener('click',filterRecords);



</script>
</body>
</html>